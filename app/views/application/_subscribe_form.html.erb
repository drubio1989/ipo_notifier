<%= form_with url: subscribe_path, html: { class: "w-full max-w-9xl mx-auto ", data: { turbo_frame: "subscription_response" } } do |f| %>
  <div class="flex flex-col items-center">
    <turbo-frame id="subscription_response" class="w-full">
    </turbo-frame>
    <% if @errors && @errors[:email].present? %>
      <span class="font-mono leading-tight w-full text-red-500 mb-2">
        <%= @errors[:email].first %>
      </span>
    <% end %>
    <div class="w-full border border-teal-400 rounded py-5 px-4">
      <h4 class="font-mono text-sm uppercase text-gray-500 mb-3">Subscribe to the newsletter</h4>
      <div class="flex space-x-2">
        <%= f.email_field :email, 
          name: "subscriber[email]",
          class: "rounded-md border border-gray-300 bg-gray-100 flex-grow text-gray-800 py-2 px-3", 
          placeholder: "Enter your email", 
          aria: { invalid: @errors&.dig(:email).present? } %>
        <%= f.text_field :hidden_message, placeholder: "Hidden, leave blank", style: "position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;" %>
        <%= f.submit "Subscribe", 
          class: "ml-3 flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-4 rounded" %>
      </div>
    </div>
  </div>
<% end %>
